/*!
 * multiscroll.js 0.2.1
 * https://github.com/alvarotrigo/multiscroll.js
 * @license MIT licensed
 *
 * Copyright (C) 2016 alvarotrigo.com - A project by Alvaro Trigo
 */
!function(R,F,Y,I,W){R.fn.multiscroll=function(v){var o=R.fn.multiscroll;v=R.extend({verticalCentered:!0,scrollingSpeed:700,easing:"easeInQuart",menu:!1,sectionsColor:[],anchors:[],navigation:!1,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],loopBottom:!1,loopTop:!1,css3:!1,paddingTop:0,paddingBottom:0,fixedElements:null,normalScrollElements:null,keyboardScrolling:!0,touchSensitivity:5,sectionSelector:".ms-section",leftSelector:".ms-left",rightSelector:".ms-right",afterLoad:null,onLeave:null,afterRender:null,afterResize:null},v);var h=600,n=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),i="ontouchstart"in F||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints;".ms-right"!==v.rightSelector&&R(v.rightSelector).addClass("ms-right"),".ms-left"!==v.leftSelector&&R(v.leftSelector).addClass("ms-left");var s,a,l,u=R(".ms-left").find(".ms-section").length,g=!1,r=R(F).height(),e=function(){var e;e=F.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"};return e}(),t={touchmove:"ontouchmove"in F?"touchmove":e.move,touchstart:"ontouchstart"in F?"touchstart":e.down};function c(){var e=F.location.hash.replace("#","");if(e.length){var t=R(".ms-left").find('[data-anchor="'+e+'"]');("undefined"==typeof lastScrolledDestiny||e!==lastScrolledDestiny)&&b(t)}}function m(e){e.preventDefault();var t=R(this).parent().index();b(R(".ms-left .ms-section").eq(t))}function d(){var e=R(this).data("tooltip");R('<div class="multiscroll-tooltip '+v.navigationPosition+'">'+e+"</div>").hide().appendTo(R(this)).fadeIn(200)}function f(){R(this).find(".multiscroll-tooltip").fadeOut(200,function(){R(this).remove()})}w(),P(),v.css3&&(v.css3=function(){var e,t=Y.createElement("p"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var o in Y.body.insertBefore(t,null),n)t.style[o]!==W&&(t.style[o]="translate3d(1px,1px,1px)",e=F.getComputedStyle(t).getPropertyValue(n[o]));return Y.body.removeChild(t),e!==W&&0<e.length&&"none"!==e}()),R("html, body").css({overflow:"hidden",height:"100%"}),".ms-section"!==v.sectionSelector&&R(v.sectionSelector).each(function(){R(this).addClass("ms-section")}),v.navigation&&(R("body").append('<div id="multiscroll-nav"><ul></ul></div>'),(s=R("#multiscroll-nav")).css("color",v.navigationColor),s.addClass(v.navigationPosition)),R(".ms-right, .ms-left").css({width:"50%",position:"absolute",height:"100%","-ms-touch-action":"none"}),R(".ms-right").css({right:"1px",top:"0","-ms-touch-action":"none","touch-action":"none"}),R(".ms-left").css({left:"0",top:"0","-ms-touch-action":"none","touch-action":"none"}),R(".ms-left .ms-section, .ms-right .ms-section").each(function(){var e,t=R(this).index();if((v.paddingTop||v.paddingBottom)&&R(this).css("padding",v.paddingTop+" 0 "+v.paddingBottom+" 0"),void 0!==v.sectionsColor[t]&&R(this).css("background-color",v.sectionsColor[t]),void 0!==v.anchors[t]&&R(this).attr("data-anchor",v.anchors[t]),v.verticalCentered&&(e=R(this)).addClass("ms-table").wrapInner('<div class="ms-tableCell" style="height: '+E(e)+'px" />'),R(this).closest(".ms-left").length&&v.navigation){var n="";v.anchors.length&&(n=v.anchors[t]);var o=v.navigationTooltips[t];void 0===o&&(o=""),v.navigation&&s.find("ul").append('<li data-tooltip="'+o+'"><a href="#'+n+'"><span></span></a></li>')}}),R(".ms-right").html(R(".ms-right").find(".ms-section").get().reverse()),R(".ms-left .ms-section, .ms-right .ms-section").each(function(){var e=R(this).index();R(this).css({height:"100%"}),!e&&v.navigation&&s.find("li").eq(e).find("a").addClass("active")}).promise().done(function(){R(".ms-left .ms-section.active").length||(R(".ms-right").find(".ms-section").last().addClass("active"),R(".ms-left").find(".ms-section").first().addClass("active")),v.navigation&&s.css("margin-top","-"+s.height()/2+"px"),R.isFunction(v.afterRender)&&v.afterRender.call(this),x(),T(),R(F).on("load",function(){var e,t;e=F.location.hash.replace("#",""),t=R('.ms-left .ms-section[data-anchor="'+e+'"]'),e.length&&b(t)})}),R(F).on("hashchange",c),R(Y).keydown(function(e){clearTimeout(l);var t=R(Y.activeElement);if(!t.is("textarea")&&!t.is("input")&&!t.is("select")&&v.keyboardScrolling){var n=e.which;-1<R.inArray(n,[40,38,32,33,34])&&e.preventDefault(),l=setTimeout(function(){!function(e){var t=e.shiftKey;switch(e.which){case 38:case 33:o.moveSectionUp();break;case 32:if(t){o.moveSectionUp();break}case 40:case 34:o.moveSectionDown();break;case 36:o.moveTo(1);break;case 35:o.moveTo(R(".ms-left .ms-section").length);break;default:;}}(e)},150)}}),R(Y).mousedown(function(e){if(1==e.button)return e.preventDefault(),!1}),R(Y).on("click","#multiscroll-nav a",m),R(Y).on({mouseenter:d,mouseleave:f},"#multiscroll-nav li"),v.normalScrollElements&&(R(Y).on("mouseenter",v.normalScrollElements,function(){o.setMouseWheelScrolling(!1)}),R(Y).on("mouseleave",v.normalScrollElements,function(){o.setMouseWheelScrolling(!0)})),R(F).on("resize",function(){if(n){var e=R(Y.activeElement);if(!e.is("textarea")&&!e.is("input")&&!e.is("select")){var t=$window.height();I.abs(t-p)>20*I.max(p,t)/100&&(S(!0),p=t)}}else clearTimeout(a),a=setTimeout(function(){S(!0)},350)});var p=r;function S(e){r=R(F).height(),R(".ms-tableCell").each(function(){R(this).css({height:E(R(this).parent())})}),v.scrollOverflow&&scrollBarHandler.createScrollBarForAll(),x(),R.isFunction(v.afterResize)&&v.afterResize.call(this)}function x(){v.css3?(C(R(".ms-left"),"translate3d(0px, -"+R(".ms-left").find(".ms-section.active").position().top+"px, 0px)",!1),C(R(".ms-right"),"translate3d(0px, -"+R(".ms-right").find(".ms-section.active").position().top+"px, 0px)",!1)):(R(".ms-left").css("top",-R(".ms-left").find(".ms-section.active").position().top),R(".ms-right").css("top",-R(".ms-right").find(".ms-section.active").position().top))}function b(e){var t=e.index(),n=R(".ms-right").find(".ms-section").eq(u-1-t),o=e.data("anchor"),i=R(".ms-left .ms-section.active").index()+1,s=function(e){var t=R(".ms-left .ms-section.active").index(),n=e.index();if(n<t)return"up";return"down"}(e);g=!0;var a,l,r,c=e.position().top,m=n.position().top;if(n.addClass("active").siblings().removeClass("active"),e.addClass("active").siblings().removeClass("active"),function(e){v.anchors.length&&(location.hash=e);T()}(o),v.css3){R.isFunction(v.onLeave)&&v.onLeave.call(this,i,t+1,s);var d="translate3d(0px, -"+c+"px, 0px)",f="translate3d(0px, -"+m+"px, 0px)";C(R(".ms-left"),d,!0),C(R(".ms-right"),f,!0),setTimeout(function(){R.isFunction(v.afterLoad)&&v.afterLoad.call(this,o,t+1),setTimeout(function(){g=!1},h)},v.scrollingSpeed)}else R.isFunction(v.onLeave)&&v.onLeave.call(this,i,t+1,s),R(".ms-left").animate({top:-c},v.scrollingSpeed,v.easing,function(){R.isFunction(v.afterLoad)&&v.afterLoad.call(this,o,t+1),setTimeout(function(){g=!1},h)}),R(".ms-right").animate({top:-m},v.scrollingSpeed,v.easing);lastScrolledDestiny=o,a=o,v.menu&&(R(v.menu).find(".active").removeClass("active"),R(v.menu).find('[data-menuanchor="'+a+'"]').addClass("active")),l=o,r=t,v.navigation&&(R("#multiscroll-nav").find(".active").removeClass("active"),l?R("#multiscroll-nav").find('a[href="#'+l+'"]').addClass("active"):R("#multiscroll-nav").find("li").eq(r).find("a").addClass("active"))}function w(){Y.addEventListener?(Y.addEventListener("mousewheel",y,!1),Y.addEventListener("wheel",y,!1)):Y.attachEvent("onmousewheel",y)}function y(e){e=F.event||e;var t=I.max(-1,I.min(1,e.wheelDelta||-e.deltaY||-e.detail));return g||(t<0?o.moveSectionDown():o.moveSectionUp()),!1}function C(e,t,n){var o;e.toggleClass("ms-easing",n),e.css({"-webkit-transform":o=t,"-moz-transform":o,"-ms-transform":o,transform:o})}function T(){var e=R(".ms-left .ms-section.active"),t=e.data("anchor"),n=e.index(),o=String(n);v.anchors.length&&(o=t),o=o.replace("/","-").replace("#","");var i=new RegExp("\\b\\s?ms-viewing-[^\\s]+\\b","g");R("body")[0].className=R("body")[0].className.replace(i,""),R("body").addClass("ms-viewing-"+o)}function E(e){var t=r;if(v.paddingTop||v.paddingBottom){var n=parseInt(e.css("padding-top"))+parseInt(e.css("padding-bottom"));t=r-n}return t}o.moveSectionUp=function(){var e=R(".ms-left .ms-section.active").prev(".ms-section");!e.length&&v.loopTop&&(e=R(".ms-left .ms-section").last()),e.length&&b(e)},o.moveSectionDown=function(){var e=R(".ms-left .ms-section.active").next(".ms-section");!e.length&&v.loopBottom&&(e=R(".ms-left .ms-section").first()),e.length&&b(e)},o.moveTo=function(e){b(isNaN(e)?R('.ms-left [data-anchor="'+e+'"]'):R(".ms-left .ms-section").eq(e-1))},o.setKeyboardScrolling=function(e){v.keyboardScrolling=e},o.setMouseWheelScrolling=function(e){e?w():Y.addEventListener?(Y.removeEventListener("mousewheel",y,!1),Y.removeEventListener("wheel",y,!1)):Y.detachEvent("onmousewheel",y)},o.setScrollingSpeed=function(e){v.scrollingSpeed=e};var k=0,L=0;function B(e){var t=e.originalEvent;if(D(t)){e.preventDefault();R(".ms-left .ms-section.active");if(!g){var n=z(t);L=n.y,n.x,I.abs(k-L)>R(F).height()/100*v.touchSensitivity&&(L<k?o.moveSectionDown():k<L&&o.moveSectionUp())}}}function D(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function M(e){var t=e.originalEvent;if(D(t)){var n=z(t);k=n.y,n.x}}function P(){(i||n)&&(R(Y).off(t.touchstart).on(t.touchstart,M),R(Y).off(t.touchmove).on(t.touchmove,B))}function z(e){var t=[];return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,i&&D(e)&&void 0!==e.touches&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t}o.destroy=function(){o.setKeyboardScrolling(!1),o.setMouseWheelScrolling(!1),(i||n)&&(R(Y).off(t.touchstart),R(Y).off(t.touchmove)),R(F).off("hashchange",c).off("resize",doneResizing),R(Y).off("mouseenter","#multiscroll-nav li").off("mouseleave","#multiscroll-nav li").off("click","#multiscroll-nav a")},o.build=function(){o.setKeyboardScrolling(!0),o.setMouseWheelScrolling(!0),P(),R(F).on("hashchange",c).on("resize",doneResizing),R(Y).on("mouseenter","#multiscroll-nav li",d).on("mouseleave","#multiscroll-nav li",f).on("click","#multiscroll-nav a",m)}}}(jQuery,window,document,Math);
//# sourceMappingURL=jquery.multiscroll.min.js.map
